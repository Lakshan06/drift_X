# =============================================================================
# DriftGuardAI Gradle Configuration
# Optimized for performance, stability, and crash prevention
# =============================================================================
# =============================================================================
# JVM SETTINGS - Memory & Performance
# =============================================================================
# Increase JVM memory for better build performance
# Prevents OutOfMemoryError during compilation
org.gradle.jvmargs=-Xmx4096m -XX:MaxMetaspaceSize=1024m -Dfile.encoding=UTF-8 -XX:+HeapDumpOnOutOfMemoryError -XX:+UseParallelGC
# Daemon JVM args
org.gradle.daemon=true
org.gradle.daemon.idletimeout=10800000
# Kotlin daemon memory
kotlin.daemon.jvmargs=-Xmx2048m -XX:MaxMetaspaceSize=512m
# =============================================================================
# BUILD PERFORMANCE
# =============================================================================
# Enable parallel execution of tasks
org.gradle.parallel=true
# Enable Gradle build cache for faster incremental builds
org.gradle.caching=true
# Configure on demand (faster project configuration)
org.gradle.configureondemand=true
# Use workers API for parallel compilation
org.gradle.workers.max=4
# =============================================================================
# JAVA CONFIGURATION
# =============================================================================
# Java home directory (fixes "Unsupported class file major version 69" error)
org.gradle.java.home=C\:/drift_X/.java/jdk-17
# Java toolchain version
org.gradle.java.toolchain.version=17
# =============================================================================
# ANDROIDX & JETIFIER
# =============================================================================
# AndroidX package structure
android.useAndroidX=true
# Jetifier for old support libraries
android.enableJetifier=true
# =============================================================================
# KOTLIN CONFIGURATION
# =============================================================================
# Kotlin code style
kotlin.code.style=official
# Enable incremental compilation
kotlin.incremental=true
# Incremental compilation for Java
kotlin.incremental.java=true
# Use kapt incrementally
kapt.incremental.apt=true
kapt.use.worker.api=true
# =============================================================================
# ANDROID BUILD OPTIMIZATIONS
# =============================================================================
# Non-transitive R classes (faster builds, smaller APKs)
android.nonTransitiveRClass=true
# Final resource IDs
android.nonFinalResIds=false
# Enable resource shrinking in release builds
android.enableResourceShrinking=true
# Enable build features only when needed
android.defaults.buildfeatures.aidl=false
android.defaults.buildfeatures.renderscript=false
android.defaults.buildfeatures.resvalues=false
android.defaults.buildfeatures.shaders=false
# R8 is now enabled by default in AGP 7.0+, removed deprecated options
# =============================================================================
# DEPENDENCY RESOLUTION
# =============================================================================
# Fail build on version conflict
android.dependencyResolutionAtConfigurationTime.disallow=false
# Enable variant-aware dependency management
android.experimentalVariantAwareDependencyManagement=true
# =============================================================================
# TESTING
# =============================================================================
# Use AndroidX for testing
android.enableUnitTestBinaryResources=false
# =============================================================================
# SECURITY
# =============================================================================
# Enable build cache (safe for private projects)
org.gradle.unsafe.configuration-cache=false
# =============================================================================
# CRASH PREVENTION
# =============================================================================
# Fail builds on warnings in release mode
# android.lintOptions.warningsAsErrors=false
# Check dependencies for security issues
android.dependencyCheck.enabled=false
# =============================================================================
# DEBUGGING & LOGGING
# =============================================================================
# Show full stack traces on build errors
org.gradle.logging.stacktrace=all
# Console output mode (plain, rich, verbose)
org.gradle.console=auto
# Warning mode (all, fail, summary, none)
org.gradle.warning.mode=all
# =============================================================================
# COMPOSE SPECIFIC
# =============================================================================
# Enable Compose compiler metrics (for debugging performance)
# Uncomment to generate detailed Compose metrics
# org.jetbrains.compose.experimental.jscanvas.enabled=true
# =============================================================================
# MISC
# =============================================================================
# Enable file watching (faster sync)
org.gradle.vfs.watch=true
# Enable configuration cache (experimental - faster builds)
# org.gradle.unsafe.configuration-cache=true
# org.gradle.unsafe.configuration-cache-problems=warn
# =============================================================================
# NOTES
# =============================================================================
# Performance Tips:
# 1. Keep Gradle daemon running for faster builds
# 2. Use --offline flag when working without internet
# 3. Use --parallel for multi-module projects
# 4. Clean build directory if experiencing issues: ./gradlew clean
# Memory Tips:
# 1. If build fails with OOM, increase org.gradle.jvmargs Xmx value
# 2. Close other memory-intensive applications during build
# 3. Use ./gradlew --stop to restart Gradle daemon if sluggish
# =============================================================================
